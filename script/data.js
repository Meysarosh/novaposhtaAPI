export const articles = [
  {
    id: "122122azul",
    color: "blue",
    name: "Cabin Luggage Midori",
    size: "small",
    price: 94.9,
    img: [
      `img/gabol/122122azul-0.jpg`,
      `img/gabol/122122azul-1.jpg`,
      `img/gabol/122122azul-2.jpg`,
      `img/gabol/122122azul-3.jpg`,
    ],
    dimensions: "37x55x21 cm",
    capacity: 36,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "122122rojo",
    color: "red",
    name: "Cabin Luggage Midori",
    size: "small",
    price: 94.9,
    img: [
      `img/gabol/122122rojo-0.jpg`,
      `img/gabol/122122rojo-1.jpg`,
      `img/gabol/122122rojo-2.jpg`,
      `img/gabol/122122rojo-3.jpg`,
    ],
    dimensions: "37x55x21 cm",
    capacity: 36,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "122122piedra",
    color: "grey",
    name: "Cabin Luggage Midori",
    size: "small",
    price: 94.9,
    img: [
      `img/gabol/122122piedra-0.jpg`,
      `img/gabol/122122piedra-1.jpg`,
      `img/gabol/122122piedra-2.jpg`,
      `img/gabol/122122piedra-3.jpg`,
    ],
    dimensions: "37x55x21 cm",
    capacity: 36,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "122122pistacho",
    color: "green",
    name: "Cabin Luggage Midori",
    size: "small",
    price: 94.9,
    img: [
      `img/gabol/122122pistacho-0.jpg`,
      `img/gabol/122122pistacho-1.jpg`,
      `img/gabol/122122pistacho-2.jpg`,
      `img/gabol/122122pistacho-3.jpg`,
    ],
    dimensions: "37x55x21 cm",
    capacity: 36,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "122022beige",
    color: "beige",
    name: "Cabin Luggage Kiba",
    size: "small",
    price: 114.9,
    img: [
      `img/gabol/122022beige-0.jpg`,
      `img/gabol/122022beige-1.jpg`,
      `img/gabol/122022beige-2.jpg`,
      `img/gabol/122022beige-3.jpg`,
      `img/gabol/122022beige-4.jpg`,
      `img/gabol/122022beige-5.jpg`,
    ],
    dimensions: "39x54x20 cm",
    capacity: 37,
    weight: 2.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - beige",
    type: "hard",
  },
  {
    id: "122022negro",
    color: "black",
    name: "Cabin Luggage Kiba",
    size: "small",
    price: 114.9,
    img: [
      `img/gabol/122022negro-0.jpg`,
      `img/gabol/122022negro-1.jpg`,
      `img/gabol/122022negro-2.jpg`,
      `img/gabol/122022negro-3.jpg`,
      `img/gabol/122022negro-4.jpg`,
    ],
    dimensions: "39x54x20 cm",
    capacity: 37,
    weight: 2.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - beige",
    type: "hard",
  },
  {
    id: "122022rojo",
    color: "red",
    name: "Cabin Luggage Kiba",
    size: "small",
    price: 114.9,
    img: [
      `img/gabol/122022rojo-0.jpg`,
      `img/gabol/122022rojo-1.jpg`,
      `img/gabol/122022rojo-2.jpg`,
      `img/gabol/122022rojo-3.jpg`,
      `img/gabol/122022rojo-4.jpg`,
    ],
    dimensions: "39x54x20 cm",
    capacity: 37,
    weight: 2.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - beige",
    type: "hard",
  },
  {
    id: "122022azul",
    color: "blue",
    name: "Cabin Luggage Kiba",
    size: "small",
    price: 114.9,
    img: [
      `img/gabol/122022azul-0.jpg`,
      `img/gabol/122022azul-1.jpg`,
      `img/gabol/122022azul-2.jpg`,
      `img/gabol/122022azul-3.jpg`,
      `img/gabol/122022azul-4.jpg`,
    ],
    dimensions: "39x54x20 cm",
    capacity: 37,
    weight: 2.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - beige",
    type: "hard",
  },
  {
    id: "121122",
    color: "coral",
    name: "Cabin Luggage Sakura",
    size: "small",
    price: 74.9,
    img: [
      `img/gabol/121122coral.jpg`,
      `img/gabol/121122036-1.jpg`,
      `img/gabol/121122036-2.jpg`,
      `img/gabol/121122036-3.jpg`,
      `img/gabol/121122036-4.jpg`,
      `img/gabol/121122036-5.jpg`,
    ],
    dimensions: "39x55x22 cm",
    capacity: 42,
    weight: 2.7,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - coral",
    type: "hard",
  },
  {
    id: "113419",
    color: "blue",
    name: "Pilot Case 15,6 Zambia",
    size: "small",
    price: 100.9,
    img: [`img/gabol/113419.jpg`],
    dimensions: "44x41x20 cm",
    capacity: 29,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "soft",
  },
  {
    id: "113419026",
    color: "burgundy",
    name: "Pilot Case 15,6 Zambia",
    size: "small",
    price: 100.9,
    img: [
      `img/gabol/113419026-0.jpg`,
      `img/gabol/113419026-1.jpg`,
      `img/gabol/113419026-2.jpg`,
      `img/gabol/113419026-3.jpg`,
      `img/gabol/113419026-4.jpg`,
    ],
    dimensions: "44x41x20 cm",
    capacity: 29,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "soft",
  },
  {
    id: "113419001",
    color: "black",
    name: "Pilot Case 15,6 Zambia",
    size: "small",
    price: 100.9,
    img: [
      `img/gabol/113419001-0.jpg`,
      `img/gabol/113419001-1.jpg`,
      `img/gabol/113419001-2.jpg`,
      `img/gabol/113419001-3.jpg`,
      `img/gabol/113419001-4.jpg`,
    ],
    dimensions: "44x41x20 cm",
    capacity: 29,
    weight: 2.6,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "soft",
  },
  {
    id: "119946016",
    color: "grey",
    name: "Medium Suitcase Vasili",
    size: "medium",
    price: 80.9,
    img: [
      `img/gabol/119946016-0.jpg`,
      `img/gabol/119946016-1.jpg`,
      `img/gabol/119946016-2.jpg`,
      `img/gabol/119946016-3.jpg`,
    ],
    dimensions: "47x67x27 cm",
    capacity: 75,
    weight: 3.8,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - grey",
    type: "hard",
  },
  {
    id: "119946003",
    color: "blue",
    name: "Medium Suitcase Vasili",
    size: "medium",
    price: 80.9,
    img: [
      `img/gabol/119946003-0.jpg`,
      `img/gabol/119946003-1.jpg`,
      `img/gabol/119946003-2.jpg`,
      `img/gabol/119946003-3.jpg`,
    ],
    dimensions: "47x67x27 cm",
    capacity: 75,
    weight: 3.8,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - grey",
    type: "hard",
  },
  {
    id: "119946008",
    color: "red",
    name: "Medium Suitcase Vasili",
    size: "medium",
    price: 80.9,
    img: [
      `img/gabol/119946008-0.jpg`,
      `img/gabol/119946008-1.jpg`,
      `img/gabol/119946008-2.jpg`,
      `img/gabol/119946008-3.jpg`,
    ],
    dimensions: "47x67x27 cm",
    capacity: 75,
    weight: 3.8,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - grey",
    type: "hard",
  },
  {
    id: "113446026",
    color: "burgundy",
    name: "Medium Suitcase Zambia",
    size: "medium",
    price: 114.9,
    img: [
      `img/gabol/113446026-0.jpg`,
      `img/gabol/113446026-1.jpg`,
      `img/gabol/113446026-2.jpg`,
      `img/gabol/113446026-3.jpg`,
      `img/gabol/113446026-4.jpg`,
      `img/gabol/113446026-5.jpg`,
    ],
    dimensions: "41x69x26 cm",
    capacity: 60,
    weight: 3.2,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Burgundy",
    type: "soft",
  },
  {
    id: "113446001",
    color: "black",
    name: "Medium Suitcase Zambia",
    size: "medium",
    price: 114.9,
    img: [
      `img/gabol/113446001-0.jpg`,
      `img/gabol/113446001-1.jpg`,
      `img/gabol/113446001-2.jpg`,
      `img/gabol/113446001-3.jpg`,
      `img/gabol/113446001-4.jpg`,
      `img/gabol/113446001-5.jpg`,
    ],
    dimensions: "41x69x26 cm",
    capacity: 60,
    weight: 3.2,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Burgundy",
    type: "soft",
  },
  {
    id: "113446003",
    color: "blue",
    name: "Medium Suitcase Zambia",
    size: "medium",
    price: 114.9,
    img: [
      `img/gabol/113446003-0.jpg`,
      `img/gabol/113446003-1.jpg`,
      `img/gabol/113446003-2.jpg`,
      `img/gabol/113446003-3.jpg`,
      `img/gabol/113446003-4.jpg`,
      `img/gabol/113446003-5.jpg`,
    ],
    dimensions: "41x69x26 cm",
    capacity: 60,
    weight: 3.2,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Burgundy",
    type: "soft",
  },
  {
    id: "122046negro",
    color: "black",
    name: "Medium Suitcase Kiba",
    size: "medium",
    price: 134.9,
    img: [
      `img/gabol/122046negro-0.jpg`,
      `img/gabol/122046negro-1.jpg`,
      `img/gabol/122046negro-2.jpg`,
      `img/gabol/122046negro-3.jpg`,
      `img/gabol/122046negro-4.jpg`,
    ],
    dimensions: "44x66x28 cm",
    capacity: 79,
    weight: 3.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - black",
    type: "hard",
  },
  {
    id: "122046beige",
    color: "beige",
    name: "Medium Suitcase Kiba",
    size: "medium",
    price: 134.9,
    img: [
      `img/gabol/122046beige-0.jpg`,
      `img/gabol/122046beige-1.jpg`,
      `img/gabol/122046beige-2.jpg`,
      `img/gabol/122046beige-3.jpg`,
      `img/gabol/122046beige-4.jpg`,
    ],
    dimensions: "44x66x28 cm",
    capacity: 79,
    weight: 3.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - black",
    type: "hard",
  },
  {
    id: "122046rojo",
    color: "red",
    name: "Medium Suitcase Kiba",
    size: "medium",
    price: 134.9,
    img: [
      `img/gabol/122046rojo-0.jpg`,
      `img/gabol/122046rojo-1.jpg`,
      `img/gabol/122046rojo-2.jpg`,
      `img/gabol/122046rojo-3.jpg`,
      `img/gabol/122046rojo-4.jpg`,
    ],
    dimensions: "44x66x28 cm",
    capacity: 79,
    weight: 3.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - black",
    type: "hard",
  },
  {
    id: "122046azul",
    color: "blue",
    name: "Medium Suitcase Kiba",
    size: "medium",
    price: 134.9,
    img: [
      `img/gabol/122046azul-0.jpg`,
      `img/gabol/122046azul-1.jpg`,
      `img/gabol/122046azul-2.jpg`,
      `img/gabol/122046azul-3.jpg`,
      `img/gabol/122046azul-4.jpg`,
    ],
    dimensions: "44x66x28 cm",
    capacity: 79,
    weight: 3.5,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - black",
    type: "hard",
  },
  {
    id: "226646",
    color: "multy-color",
    name: "Medium Suitcase Cherry",
    size: "medium",
    price: 73.6,
    img: [
      `img/gabol/226646099-0.jpg`,
      `img/gabol/226646099-1.jpg`,
      `img/gabol/226646099-2.jpg`,
      `img/gabol/226646099-3.jpg`,
      `img/gabol/226646099-4.jpg`,
      `img/gabol/226646099-5.jpg`,
    ],
    dimensions: "44x64x25 cm",
    capacity: 55,
    weight: 3.4,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - multy-color",
    type: "hard",
  },
  {
    id: "121947003",
    color: "blue",
    name: "Large Suitcase Sendai",
    size: "large",
    price: 169.9,
    img: [
      `img/gabol/121947003-0.jpg`,
      `img/gabol/121947003-1.jpg`,
      `img/gabol/121947003-2.jpg`,
      `img/gabol/121947003-3.jpg`,
      `img/gabol/121947003-4.jpg`,
      `img/gabol/121947003-5.jpg`,
    ],
    dimensions: "54x78x30.5 cm",
    capacity: 98,
    weight: 5.1,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "121947001",
    color: "black",
    name: "Large Suitcase Sendai",
    size: "large",
    price: 169.9,
    img: [
      `img/gabol/121947001-0.jpg`,
      `img/gabol/121947001-1.jpg`,
      `img/gabol/121947001-2.jpg`,
      `img/gabol/121947001-3.jpg`,
    ],
    dimensions: "54x78x30.5 cm",
    capacity: 98,
    weight: 5.1,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - blue",
    type: "hard",
  },
  {
    id: "119647coral",
    color: "coral",
    name: "Large Suitcase Orleans",
    size: "large",
    price: 109.9,
    img: [
      `img/gabol/119647coral-0.jpg`,
      `img/gabol/119647coral-1.jpg`,
      `img/gabol/119647coral-2.jpg`,
      `img/gabol/119647coral-3.jpg`,
      `img/gabol/119647coral-4.jpg`,
      `img/gabol/119647coral-5.jpg`,
    ],
    dimensions: "54x77x32 cm",
    capacity: 115,
    weight: 4.3,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Coral",
    type: "hard",
  },
  {
    id: "119647001",
    color: "black",
    name: "Large Suitcase Orleans",
    size: "large",
    price: 109.9,
    img: [
      `img/gabol/119647001-0.jpg`,
      `img/gabol/119647001-1.jpg`,
      `img/gabol/119647001-2.jpg`,
      `img/gabol/119647001-3.jpg`,
      `img/gabol/119647001-4.jpg`,
      `img/gabol/119647001-5.jpg`,
    ],
    dimensions: "54x77x32 cm",
    capacity: 115,
    weight: 4.3,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Coral",
    type: "hard",
  },
  {
    id: "119647verde",
    color: "green",
    name: "Large Suitcase Orleans",
    size: "large",
    price: 109.9,
    img: [
      `img/gabol/119647verde-0.jpg`,
      `img/gabol/119647verde-1.jpg`,
      `img/gabol/119647verde-2.jpg`,
      `img/gabol/119647verde-3.jpg`,
      `img/gabol/119647verde-4.jpg`,
      `img/gabol/119647verde-5.jpg`,
    ],
    dimensions: "54x77x32 cm",
    capacity: 115,
    weight: 4.3,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Coral",
    type: "hard",
  },
  {
    id: "119647003",
    color: "blue",
    name: "Large Suitcase Orleans",
    size: "large",
    price: 109.9,
    img: [
      `img/gabol/119647003-0.jpg`,
      `img/gabol/119647003-1.jpg`,
      `img/gabol/119647003-2.jpg`,
      `img/gabol/119647003-3.jpg`,
      `img/gabol/119647003-4.jpg`,
      `img/gabol/119647003-5.jpg`,
    ],
    dimensions: "54x77x32 cm",
    capacity: 115,
    weight: 4.3,
    details:
      "Gender - male, female, handles - miniature top, sliding, material - polipropilene, number of compartments - 2, Color - Coral",
    type: "hard",
  },
];
export const state = {
  cart: [],
  preorder: {},
  order: [],
};

//////////////////////////////
//Request the list of cities with all necessary data for requesting delivery cost and estimated date...
export const requestCityList = async function () {
  const request = {
    modelName: "Address",
    calledMethod: "getCities",
    apiKey: "9e29b400367d47fac9f0dbc4598018a5",
  };

  const response = await fetch(`https://api.novaposhta.ua/v2.0/json/`, {
    method: "POST",
    headers: {
      "content-type": "application/json",
    },
    body: JSON.stringify(request),
  });
  const data = await response.json();
  // console.log(data);
  return data.data;
};
//request estimated delivery date
export const requestDeliveryDate = async function (cityRef) {
  const request = {
    apiKey: "9e29b400367d47fac9f0dbc4598018a5",
    modelName: "InternetDocument",
    calledMethod: "getDocumentDeliveryDate",
    methodProperties: {
      ServiceType: "WarehouseWarehouse",
      CitySender: "78ebfe5f-c39f-11e3-9fa0-0050568002cf",
      CityRecipient: cityRef,
    },
  };
  const response = await fetch(`https://api.novaposhta.ua/v2.0/json/`, {
    method: "POST",
    headers: {
      "content-type": "application/json",
    },
    body: JSON.stringify(request),
  });
  const data = await response.json();
  // console.log(data.data[0].DeliveryDate.date);
  return data.data[0].DeliveryDate.date;
};
/////////////////////////curency rate
export const currencyRate = async function () {
  const response = await fetch(
    "https://api.fastforex.io/fetch-all?api_key=33de1d691f-977c1928b7-r6uce7",
    {
      method: "GET",
      headers: { Accept: "application/json" },
    }
  );
  const result = await response.json();
  return result;
};

///////////////////////request delivery cost
export const requestShippingCost = async function (cityRef, data) {
  let exchange = await currencyRate();
  let totalWeight = 0;
  let totalCost = 0;
  let seatsAmount = 0;
  let optionsSeat = [];
  data.forEach((el) => {
    let counter = el.quantity;
    for (let i = 0; i < counter; i++) {
      totalWeight += el.weight;
      totalCost += el.price;
      seatsAmount += 1;
      optionsSeat.push({
        weight: el.weight,
        volumetricWidth: parseInt(el.dimensions.slice(0, 2)),
        volumetricLength: parseInt(el.dimensions.slice(3, 5)),
        volumetricHeight: parseInt(el.dimensions.slice(6, 8)),
      });
    }
  });
  // console.log(totalWeight);
  // console.log(Math.round(totalCost*exchange.results.UAH));
  // console.log(seatsAmount);
  // console.log(optionsSeat);
  const request = {
    apiKey: "9e29b400367d47fac9f0dbc4598018a5",
    modelName: "InternetDocument",
    calledMethod: "getDocumentPrice",
    methodProperties: {
      CitySender: "78ebfe5f-c39f-11e3-9fa0-0050568002cf",
      CityRecipient: cityRef,
      Weight: totalWeight,
      ServiceType: "WarehouseWarehouse",
      Cost: Math.round(totalCost * exchange.results.UAH),
      CargoType: "Cargo",
      SeatsAmount: seatsAmount,
      OptionsSeat: optionsSeat,
    },
  };
  const response = await fetch(`https://api.novaposhta.ua/v2.0/json/`, {
    method: "POST",
    headers: {
      "content-type": "application/json",
    },
    body: JSON.stringify(request),
  });
  const result = await response.json();
  state.preorder.items = data;
  state.preorder.shipping = result.data[0].Cost / exchange.results.UAH;
  console.log(result.data[0].Cost / exchange.results.UAH);
  return result.data[0].Cost / exchange.results.UAH;
};
////////FILTER
export const filterArticles = function (colorFilter, typeFilter, sizeFilter) {
  let articlesFilteredByColor = [];
  let articlesFilteredByType = [];
  let articlesFilteredBySize = [];
  if (colorFilter.length > 0) {
    colorFilter.forEach((col) => {
      articlesFilteredByColor = articlesFilteredByColor.concat(
        articles.filter((obj) => obj.color == col)
      );
    });
  } else {
    articlesFilteredByColor = articles;
  }
  if (typeFilter.length > 0) {
    typeFilter.forEach(
      (type) =>
        (articlesFilteredByType = articlesFilteredByType.concat(
          articlesFilteredByColor.filter((obj) => obj.type == type)
        ))
    );
  } else {
    articlesFilteredByType = articlesFilteredByColor;
  }
  if (sizeFilter.length > 0) {
    sizeFilter.forEach(
      (size) =>
        (articlesFilteredBySize = articlesFilteredBySize.concat(
          articlesFilteredByType.filter((obj) => obj.size == size)
        ))
    );
  } else {
    articlesFilteredBySize = articlesFilteredByType;
  }
  return articlesFilteredBySize;
};
